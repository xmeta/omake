<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>



<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<META name="GENERATOR" content="hevea 1.08">
<LINK rel="stylesheet" type="text/css" href="omake-doc.css">
<TITLE>
Synopsis
</TITLE>
</HEAD>
<BODY >

<img src="images/omake-manual.gif" border="0" align="top"><br>

<TABLE CELLSPACING=2 CELLPADDING=0>
<TR><TD ALIGN=left NOWRAP>Jump to:</TD>
<TD VALIGN=top ALIGN=center NOWRAP>&nbsp;&nbsp;</TD>
<TD ALIGN=left NOWRAP><A HREF="http://omake.metaprl.org/">OMake Home</A>
&bull;&nbsp;<A HREF="omake.html">Guide Home</A>
&bull;&nbsp;<A HREF="omake-doc.html">Guide (single-page)</A>
&bull;&nbsp;<A HREF="omake-toc.html">Contents (short)</A>
&bull;&nbsp;<A HREF="omake-contents.html">Contents (long)</A></TD>
</TR>
<TR><TD ALIGN=left NOWRAP>Index:</TD>
<TD VALIGN=top ALIGN=center NOWRAP>&nbsp;&nbsp;</TD>
<TD ALIGN=left NOWRAP><A HREF="omake-all-index.html">All</A>
&bull;&nbsp;<A HREF="omake-var-index.html">Variables</A>
&bull;&nbsp;<A HREF="omake-fun-index.html">Functions</A>
&bull;&nbsp;<A HREF="omake-obj-index.html">Objects</A>
&bull;&nbsp;<A HREF="omake-target-index.html">Targets</A></TD>
</TR></TABLE>

<H1 CLASS="chapter"><A NAME="htoc431">Appendix&nbsp;A</A>&nbsp;&nbsp;Synopsis</H1><UL>
<LI><A HREF="omake-options.html#toc88">Command-line options</A>
</UL>

<A NAME="chapter:options"></A>
<BR>
<BR>
<TT>omake</TT>
 [<TT>-k</TT>]
 [<TT>-j &lt;count&gt;</TT>]
 [<TT>-n</TT>]
 [<TT>-s</TT>] [<TT>-S</TT>]
 [<TT>-p</TT>]
 [<TT>-P</TT>]
 [<TT>-w</TT>]
 [<TT>-t</TT>]
 [<TT>-u</TT>]
 [<TT>-U</TT>]
 [<TT>-R</TT>]
 [<TT>--project</TT>]
 [<TT>--progress</TT>] [<TT>--no-progress</TT>]
 [<TT>--print-status</TT>] [<TT>--no-print-status</TT>]
 [<TT>--print-exit</TT>] [<TT>--no-print-exit</TT>]
 [<TT>--print-dependencies</TT>]
 [<TT>--show-dependencies &lt;target&gt;</TT>]
 [<TT>--all-dependencies</TT>]
 [<TT>--verbose-dependencies</TT>]
 [<TT>--force-dotomake</TT>]
 [<TT>--dotomake &lt;dir&gt;</TT>]
 [<TT>--flush-includes</TT>]
 [<TT>--configure</TT>]
 [<TT>--install</TT>]
 [<TT>--install-all</TT>]
 [<TT>--install-force</TT>]
 [<TT>--version</TT>]
 [<TT>--absname</TT>]
 <TT>filename...</TT>
 [<TT>var-definition...</TT>]<BR>
<BR>
<A NAME="toc88"></A>
<H2 CLASS="section"><A NAME="htoc432">A.1</A>&nbsp;&nbsp;Command-line options</H2>
<DL CLASS="description" COMPACT=compact><DT CLASS="dt-description">
<B><TT>-k</TT></B><DD CLASS="dd-description"> Do not abort when a build command fails;
continue to build as much of the project as possible.<BR>
<BR>
<DT CLASS="dt-description"><B><TT>-n</TT></B><DD CLASS="dd-description"> Print the commands that would be executed, but do no execute them.
This can be used to see what would happen if the project were to be built.<BR>
<BR>
<DT CLASS="dt-description"><B><TT>-s</TT></B><DD CLASS="dd-description"> Do not print commands as they are executed (be &#8220;silent&#8221;).<BR>
<BR>
<DT CLASS="dt-description"><B><TT>-S</TT></B><DD CLASS="dd-description"> Do not print commands as they are executed <EM>unless</EM> they produce output and/or
fail.<BR>
<BR>
<DT CLASS="dt-description"><B><TT>--progress</TT></B><DD CLASS="dd-description"> Print a progress indicator.
This is normally used with the <TT>-s</TT> or <TT>-S</TT> options.<BR>
<BR>
<DT CLASS="dt-description"><B><TT>--no-progress</TT></B><DD CLASS="dd-description"> Do not print a progress indicator (default).<BR>
<BR>
<DT CLASS="dt-description"><B><TT>--print-exit</TT></B><DD CLASS="dd-description"> Print termination codes when commands complete.<BR>
<BR>
<DT CLASS="dt-description"><B><TT>--no-print-exit</TT></B><DD CLASS="dd-description"> Do not print termination codes when commands complete (default).<BR>
<BR>
<DT CLASS="dt-description"><B><TT>-w</TT></B><DD CLASS="dd-description"> Print directory information in <TT>make</TT> format as commands are executed.
This is mainly useful for editors that expect <TT>make</TT>-style
directory information for determining the location of errors.<BR>
<BR>
<DT CLASS="dt-description"><B><TT>-p</TT></B><DD CLASS="dd-description"> Watch the filesystem for changes, and continue the build until it succeeds. If this
option is specified, <TT>omake</TT> will restart the build whenever source files are modified. Implies
<TT>-k</TT>.<BR>
<BR>
<DT CLASS="dt-description"><B><TT>-P</TT></B><DD CLASS="dd-description"> Watch the filesystem for changes forever. If this option is specified, <TT>omake</TT>
will restart the build whenever source files are modified. Implies
<TT>-k</TT>.<BR>
<BR>
<DT CLASS="dt-description"><B><TT>-R</TT></B><DD CLASS="dd-description"> Ignore the current directory and build the project from its root directory. When
<TT>omake</TT> is run in a subdirectory of a project, it normally builds files within the current
directory and its subdirectories. If the <TT>-R</TT> option is specified, the build is performed as if
<TT>omake</TT> were run in the project root.<BR>
<BR>
<DT CLASS="dt-description"><B><TT>-t</TT></B><DD CLASS="dd-description"> Update the <TT>omake</TT> database to force the project to be considered up-to-date.<BR>
<BR>
<DT CLASS="dt-description"><B><TT>-U</TT></B><DD CLASS="dd-description"> Do not trust cached build information. This will force the entire project to be rebuilt.<BR>
<BR>
<DT CLASS="dt-description"><B><TT>--depend</TT></B><DD CLASS="dd-description"> Do not trust cached dependency information. This will force files to be rescanned
for dependency information.<BR>
<BR>
<DT CLASS="dt-description"><B><TT>--configure</TT></B><DD CLASS="dd-description"> Re-run <CODE>static.\</CODE> sections of the included omake files, instead of
trusting the cached results.<BR>
<BR>
<DT CLASS="dt-description"><B><TT>--force-dotomake</TT></B><DD CLASS="dd-description"> Always use the <CODE>$HOME/.omake</CODE> for the <CODE>.omc</CODE> cache files.<BR>
<BR>
<DT CLASS="dt-description"><B><TT>--dotomake &lt;dir&gt;</TT></B><DD CLASS="dd-description"> Use the specified directory instead of the <CODE>$HOME/.omake</CODE>
for the placement of the <CODE>.omc</CODE> cache files.<BR>
<BR>
<DT CLASS="dt-description"><B><TT>-j &lt;count&gt;</TT></B><DD CLASS="dd-description"> Run multiple build commands in parallel. The <TT>count</TT> specifies a
bound on the number of commands to run simultaneously. In addition, the count may specify servers
for remote execution of commands in the form <CODE>server=count</CODE>. For example, the option
<CODE>-j 2:small.host.org=1:large.host.org=4</CODE> would specify that up to 2 jobs can be executed
locally, 1 on the server <CODE>small.host.org</CODE> and 4 on <CODE>large.host.org</CODE>. Each remote server
must use the same filesystem location for the project.<BR>
<BR>
Remote execution is currently an experimental feature. Remote filesystems like NFS do not provide
adequate file consistency for this to work.<BR>
<BR>
<DT CLASS="dt-description"><B><TT>--print-dependencies</TT></B><DD CLASS="dd-description"> Print dependency information for the targets on the command line.<BR>
<BR>
<DT CLASS="dt-description"><B><TT>--show-dependencies &lt;target&gt;</TT></B><DD CLASS="dd-description"> Print dependency information <EM>if</EM> the <CODE>target</CODE> is built.<BR>
<BR>
<DT CLASS="dt-description"><B><TT>--all-dependencies</TT></B><DD CLASS="dd-description"> If either of the options <TT>--print-dependencies</TT> or
<TT>--show-dependencies</TT> is in effect, print transitive dependencies. That is, print all
dependencies recursively. If neither option <TT>--print-dependencies</TT>,
<TT>--show-dependencies</TT> is specified, this option has no effect.<BR>
<BR>
<DT CLASS="dt-description"><B><TT>--verbose-dependencies</TT></B><DD CLASS="dd-description"> If either of the options <TT>--print-dependencies</TT> or
<TT>--show-dependencies</TT> is in effect, also print listings for each dependency. The output is
very verbose, consider redirecting to a file. If neither option <TT>--print-dependencies</TT>,
<TT>--show-dependencies</TT> is specified, this option has no effect.<BR>
<BR>
<DT CLASS="dt-description"><B><TT>--install</TT></B><DD CLASS="dd-description"> Install default files <TT>OMakefile</TT> and <TT>OMakeroot</TT> into the current
 directory. You would typically do this to start a project in the current directory.<BR>
<BR>
<DT CLASS="dt-description"><B><TT>--install-all</TT></B><DD CLASS="dd-description"> In addition to installing files <TT>OMakefile</TT> and <TT>OMakeroot</TT>,
 install default <TT>OMakefile</TT>s into each subdirectory of the current directory.
 <TT>cvs</TT>(1) rules are used for filtering the subdirectory list. For example, <TT>OMakefile</TT>s
 are not copied into directories called <CODE>CVS</CODE>, <CODE>RCCS</CODE>, etc.<BR>
<BR>
<DT CLASS="dt-description"><B><TT>--install-force</TT></B><DD CLASS="dd-description"> Normally, <TT>omake</TT> will prompt before it overwrites any
 existing <TT>OMakefile</TT>. If this option is given, all files are forcibly overwritten
 without prompting.<BR>
<BR>
<DT CLASS="dt-description"><B><TT>--absname</TT></B><DD CLASS="dd-description"> Filenames should expand to absolute pathnames. [jyh: this option needs to
be documented in Chapter&nbsp;<A HREF="omake-rules.html#chapter:rules">6</A>. It may become deprecated.]<BR>
<BR>
<DT CLASS="dt-description"><B><TT>var-definition</TT></B><DD CLASS="dd-description"> <TT>omake</TT> variables can also be defined on the command
 line in the form <CODE>name=value</CODE>. For example, the <CODE>CFLAGS</CODE> variable might be defined
 on the command line with the argument <CODE>CFLAGS="-Wall -g"</CODE>.
</DL>
In addition, <TT>omake</TT> supports a number of debugging flags on the command line. Run
<CODE>omake --help</CODE> to get a summary of these flags.<BR>
<BR>


<TABLE CELLSPACING=2 CELLPADDING=0>
<TR><TD ALIGN=left NOWRAP>Jump to:</TD>
<TD VALIGN=top ALIGN=center NOWRAP>&nbsp;&nbsp;</TD>
<TD ALIGN=left NOWRAP><A HREF="http://omake.metaprl.org/">OMake Home</A>
&bull;&nbsp;<A HREF="omake.html">Guide Home</A>
&bull;&nbsp;<A HREF="omake-doc.html">Guide (single-page)</A>
&bull;&nbsp;<A HREF="omake-toc.html">Contents (short)</A>
&bull;&nbsp;<A HREF="omake-contents.html">Contents (long)</A></TD>
</TR>
<TR><TD ALIGN=left NOWRAP>Index:</TD>
<TD VALIGN=top ALIGN=center NOWRAP>&nbsp;&nbsp;</TD>
<TD ALIGN=left NOWRAP><A HREF="omake-all-index.html">All</A>
&bull;&nbsp;<A HREF="omake-var-index.html">Variables</A>
&bull;&nbsp;<A HREF="omake-fun-index.html">Functions</A>
&bull;&nbsp;<A HREF="omake-obj-index.html">Objects</A>
&bull;&nbsp;<A HREF="omake-target-index.html">Targets</A></TD>
</TR></TABLE>
</BODY>
</HTML>
